<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Registro Curso</title>
        <link href='icon.jpg' rel='icon' type='image/x-icon'/>
    </h:head>
    <h:body>
        <f:event type="preRenderView" listener="#{controllerCurso.loadCurso()}"/>
        <h:form id="frmBusqueda">
            <p:outputLabel for="txtBusc" value="Buscar: "/>
            <p:inputText id="txtBusc" value="#{controllerCurso.course.nombre}"/>
            <p:commandButton actionListener="#{controllerCurso.searchName()}" value="Buscar" oncomplete="PF('dlgSearch').show();" update=":busqueda"/>
        </h:form>
        
        <h:form id="frmIngreso">
            <p:outputLabel for="txtName" value="Nombre:"/>
            <p:inputText id="txtName" value="#{controllerCurso.course.nombre}"/>
            <br/>
            <p:outputLabel for="txtHStart" value="Hora Inicio:"/>
            <p:inputText id="txtHStart" value="#{controllerCurso.course.hinicio}" placeholder="00:00:00"/>
            <br/>
            <p:outputLabel for="txtHEnd" value="Hora Fin:"/>
            <p:inputText id="txtHEnd" value="#{controllerCurso.course.hfin}" placeholder="00:00:00"/>
            <br/>
            <p:outputLabel for="txtJornada" value="Jornada:"/>
            <p:inputText id="txtJornada" value="#{controllerCurso.course.jornada}"/>
            <br/>
            <p:outputLabel for="txtCupo" value="Cupo:"/>
            <p:inputText id="txtCupo" value="#{controllerCurso.course.cupo}"/>
            <br/>
            <p:commandButton actionListener="#{controllerCurso.saveCurso()}" value="Guardar"/>
        </h:form>
        <br/><br/>
        
        <p:dialog header="Actualizar Curso" id="update" widgetVar="dlgUpdate" showEffect="explode" hideEffect="none" height="400" width="500">
            <h:form>
                <p:outputLabel for="txtCodigoA" value="Codigo:"/>
                <p:outputLabel id="txtCodigoA" value="#{controllerCurso.course.cod}"/>
                <br/>
                <p:outputLabel for="txtNameA" value="Nombre:"/>
                <p:inputText id="txtNameA" value="#{controllerCurso.course.nombre}"/>
                <br/>
                <p:outputLabel for="txtHStartA" value="Hora Inicio:"/>
                <p:inputText id="txtHStartA" value="#{controllerCurso.course.hinicio}" placeholder="00:00:00"/>
                <br/>
                <p:outputLabel for="txtHEndA" value="Hora Fin:"/>
                <p:inputText id="txtHEndA" value="#{controllerCurso.course.hfin}" placeholder="00:00:00"/>
                <br/>
                <p:outputLabel for="txtJornadaA" value="Jornada:"/>
                <p:inputText id="txtJornadaA" value="#{controllerCurso.course.jornada}"/>
                <br/>
                <p:outputLabel for="txtCupoA" value="Cupo:"/>
                <p:inputText id="txtCupoA" value="#{controllerCurso.course.cupo}"/>
                <br/>
                <p:commandButton actionListener="#{controllerCurso.updateCurso()}" value="Guardar" oncomplete="PF('dlgUpdate').hide();"/>
                <p:commandButton actionListener="#{controllerCurso.deleteCurso()}" value="Eliminar" oncomplete="PF('dlgUpdate').hide();"/>
                <p:commandButton value="Cancelar" update=":frmTabla:tblC" oncomplete="PF('dlgUpdate').hide();"/>

            </h:form>
        </p:dialog>
        <p:dialog header="Resultados" id="busqueda" widgetVar="dlgSearch" showEffect="explode" hideEffect="none" height="250" width="600">
            <h:form id="frmTabla">
                <p:dataTable var="cur" value="#{controllerCurso.listCurso}" id="tblC">
                <p:column headerText="Codigo">
                    <h:outputText value="#{cur.cod}"/>
                </p:column>
                <p:column headerText="Nombre">
                    <h:outputText value="#{cur.nombre}"/>
                </p:column>
                <p:column headerText="Hora Inicio">
                    <h:outputText value="#{cur.hinicio}"/>
                </p:column>
                <p:column headerText="Hora Fin">
                    <h:outputText value="#{cur.hfin}"/>
                </p:column>
                <p:column headerText="Jornada">
                    <h:outputText value="#{cur.jornada}"/>
                </p:column>
                <p:column headerText="Cupo">
                    <h:outputText value="#{cur.cupo}"/>
                </p:column>
            </p:dataTable>
        </h:form>
        </p:dialog>
    </h:body>
</html>

